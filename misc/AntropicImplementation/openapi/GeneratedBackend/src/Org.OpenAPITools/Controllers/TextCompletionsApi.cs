/*
 * Anthropic API
 *
 * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)
 *
 * The version of the OpenAPI document: 0.0.0
 * 
 * Generated by: https://openapi-generator.tech
 */

using System;
using System.Collections.Generic;
using System.ComponentModel.DataAnnotations;
using Microsoft.AspNetCore.Authorization;
using Microsoft.AspNetCore.Mvc;
using Microsoft.AspNetCore.Http;
using System.Text.Json;
using Org.OpenAPITools.Attributes;
using Org.OpenAPITools.Models;

namespace Org.OpenAPITools.Controllers
{ 
    /// <summary>
    /// 
    /// </summary>
    [ApiController]
    public class TextCompletionsApiController : ControllerBase
    { 
        /// <summary>
        /// Create a Text Completion
        /// </summary>
        /// <remarks>[Legacy] Create a Text Completion.  The Text Completions API is a legacy API. We recommend using the [Messages API](https://docs.anthropic.com/en/api/messages) going forward.  Future models and features will not be compatible with Text Completions. See our [migration guide](https://docs.anthropic.com/en/api/migrating-from-text-completions-to-messages) for guidance in migrating from Text Completions to Messages.</remarks>
        /// <param name="completionRequest"></param>
        /// <param name="anthropicVersion">The version of the Anthropic API you want to use.  Read more about versioning and our version history [here](https://docs.anthropic.com/en/api/versioning).</param>
        /// <response code="200">Text Completion object.</response>
        /// <response code="400">Error response.  See our [errors documentation](https://docs.anthropic.com/en/api/errors) for more details.</response>
        [HttpPost]
        [Route("/v1/complete")]
        [Consumes("application/json")]
        [ValidateModelState]
        [ProducesResponseType(statusCode: 200, type: typeof(CompletionResponse))]
        [ProducesResponseType(statusCode: 400, type: typeof(ErrorResponse))]
        public virtual IActionResult CompletePost([FromBody]CompletionRequest completionRequest, [FromHeader (Name = "anthropic-version")]string? anthropicVersion)
        {

            //TODO: Uncomment the next line to return response 200 or use other options such as return this.NotFound(), return this.BadRequest(..), ...
            // return StatusCode(200, default);
            //TODO: Uncomment the next line to return response 400 or use other options such as return this.NotFound(), return this.BadRequest(..), ...
            // return StatusCode(400, default);
            string exampleJson = null;
            exampleJson = "{\r\n  \"completion\" : \" Hello! My name is Claude.\",\r\n  \"id\" : \"compl_018CKm6gsux7P8yMcwZbeCPw\",\r\n  \"model\" : \"claude-2.1\",\r\n  \"stop_reason\" : \"stop_sequence\",\r\n  \"type\" : \"completion\"\r\n}";
            exampleJson = "{\r\n  \"type\" : \"error\",\r\n  \"error\" : {\r\n    \"type\" : \"invalid_request_error\",\r\n    \"message\" : \"Invalid request\"\r\n  }\r\n}";
            
            var example = exampleJson != null
            ? JsonSerializer.Deserialize<CompletionResponse>(exampleJson)
            : default;
            //TODO: Change the data returned
            return new ObjectResult(example);
        }
    }
}
