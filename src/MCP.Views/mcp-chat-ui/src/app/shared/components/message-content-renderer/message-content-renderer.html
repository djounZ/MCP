<div class="message-content-renderer">
  @if (showSpinner() && message().role !== 'user') {
  <mat-spinner diameter="20"></mat-spinner>
  }
  <app-message-text-content
    [message]="message()"
    [searchQuery]="searchQuery()"
    [contentTypeFilter]="contentTypeFilter()"
  />
  <app-message-text-reasoning-content
    [message]="message()"
    [searchQuery]="searchQuery()"
    [contentTypeFilter]="contentTypeFilter()"
  />
  <app-message-error-content
    [message]="message()"
    [searchQuery]="searchQuery()"
    [contentTypeFilter]="contentTypeFilter()"
  />
  <app-message-function-call-content
    [message]="message()"
    [searchQuery]="searchQuery()"
    [contentTypeFilter]="contentTypeFilter()"
  />
  <app-message-function-result-content
    [message]="message()"
    [searchQuery]="searchQuery()"
    [contentTypeFilter]="contentTypeFilter()"
  />

  <!-- Render remaining unknown content types -->
  @for (content of nonTextContent(); track content) {
  <div class="unknown-content-type">
    Unknown content type: {{ content.$type }}
  </div>
  }
</div>
